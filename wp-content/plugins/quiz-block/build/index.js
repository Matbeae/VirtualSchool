(()=>{"use strict";var e,t={556:()=>{const e=window.wp.blockEditor,t=window.wp.components,o=(window.wp.element,window.wp.data),n=window.ReactJSXRuntime,s=JSON.parse('{"UU":"create-block/quiz-block"}');(0,window.wp.blocks.registerBlockType)(s.UU,{edit:function({attributes:s,setAttributes:i}){const{questions:r=[]}=s,c=(0,o.useSelect)((e=>e("core/editor").getCurrentPostId()),[]);console.log("Post ID in edit.js:",c);const l=(e,t,o)=>{const n=[...r];n[e][t]=o,i({questions:n})};return c&&s.postId!==c&&i({postId:c}),(0,n.jsxs)("div",{...(0,e.useBlockProps)(),children:[(0,n.jsx)(e.InspectorControls,{children:(0,n.jsx)(t.PanelBody,{title:"Настройки теста",children:(0,n.jsx)(t.PanelRow,{children:(0,n.jsx)(t.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{text:"",options:["","","",""],correctOption:0}];i({questions:e})},children:"Добавить вопрос"})})})}),(0,n.jsx)("div",{className:"quiz-block",children:r.map(((e,o)=>(0,n.jsxs)("div",{className:"question-block",children:[(0,n.jsx)(t.TextControl,{label:`Вопрос ${o+1}`,value:e.text,onChange:e=>l(o,"text",e)}),e.options.map(((e,s)=>(0,n.jsx)(t.TextControl,{label:`Вариант ${s+1}`,value:e,onChange:e=>((e,t,o)=>{const n=[...r];n[e].options[t]=o,i({questions:n})})(o,s,e)},s))),(0,n.jsx)(t.TextControl,{label:"Номер правильного ответа",type:"number",value:e.correctOption+1,onChange:e=>l(o,"correctOption",parseInt(e)-1),min:"1",max:"4"})]},o)))})]})},save:function({attributes:t}){const{questions:o=[],postId:s}=t;return(0,n.jsxs)("div",{...e.useBlockProps.save(),className:"wp-block-quiz-block","data-test-id":s,children:[o.length>0?o.map(((e,t)=>(0,n.jsxs)("div",{className:"question","data-correct-option":e.correctOption,children:[(0,n.jsx)("p",{children:e.text}),e.options.map(((e,o)=>(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:`question_${t}`,value:o}),(0,n.jsx)("p",{children:e})]},o)))]},t))):(0,n.jsx)("p",{children:"Нет вопросов в тесте"}),(0,n.jsx)("button",{children:"Проверить ответы"}),(0,n.jsx)("p",{id:"quiz-result",style:{marginTop:"10px",fontWeight:"bold"}})]})}}),wp.blocks.registerBlockType("quiz-block/quiz-checker",{init:()=>{const e=document.createElement("script");e.src=`${window.location.origin}/wp-content/plugins/quiz-block/quiz-checker.js`,document.body.appendChild(e)}})}},o={};function n(e){var s=o[e];if(void 0!==s)return s.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,o,s,i)=>{if(!o){var r=1/0;for(p=0;p<e.length;p++){o=e[p][0],s=e[p][1],i=e[p][2];for(var c=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(c=!1,i<r&&(r=i));if(c){e.splice(p--,1);var a=s();void 0!==a&&(t=a)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[o,s,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var s,i,r=o[0],c=o[1],l=o[2],a=0;if(r.some((t=>0!==e[t]))){for(s in c)n.o(c,s)&&(n.m[s]=c[s]);if(l)var p=l(n)}for(t&&t(o);a<r.length;a++)i=r[a],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(p)},o=self.webpackChunkquiz_block=self.webpackChunkquiz_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[350],(()=>n(556)));s=n.O(s)})();